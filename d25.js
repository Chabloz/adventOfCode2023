const input = `shd: hzh hcz sch rnf\npmk: dpr\nhcf: sjt stk plv fjx\nkkp: ggq fqq\nfhc: mvh\nrrx: jjj qht\nbhc: grq qmx cdr\nkzf: mnc ksm nzj gtt pqq\nqhk: hmm jxg qtb\nhzp: zrx hst\nlss: kzl dzx tjb\njvh: vfj\ncnz: tlp\nlsx: pbb gsg\njnq: mjk chg dmq dbb\nxrf: znm\ndpj: zgl dpz flt rfr\nntl: kfg dnm\nqhz: fdl\nbkv: ptn ldn nlg nch glp\nmhg: ngq jjq fvr\nfmt: vsm xtb mdj qst\nbhl: nmk plc\ncqn: dpz\nmgn: frj cql\nsqq: phd ctg zlx ftn\nzvv: xnj\nbbn: bmb dmb\nsfj: fnb\nqkg: jck vzz xlx vrt\ndtj: fxl fbf\nvgn: qbk qmx\nssd: mhq blr cqz mxt\ntzb: nhx kps zjj mnj\nrlm: txr tfz xkj\nrnv: lbm hbp\nlsb: qtb tvp zpg zlr\nhrn: bjf xpd\nrhr: rlh lpk xhz kvd\nsmm: nhp tpg nth vpp pbf\nkhp: hcf lbx\nbjr: nxs lvq\nlbx: srg\nhpd: pxb xvf\nlkx: jnx rml\ntmz: lcs xhj gcl\ndfq: pkk\nfxh: kqn ztl qmk kqx sbh\nmdd: jnz bqp xht mnv\ngrg: qcn bmg vdm hcm\nbdx: pzb\nfcq: blb\nbnn: dlz tjq\nbjb: bjs\nnnd: sxl kgd\nght: pkr\njdr: fnt\nxct: vzl\ntnl: ljh cqm cdr\ncsz: hfk hpv\nvfv: vck\nhdz: khm tdv lgk\nlmm: tdv\nmpd: tvp vml ttn\nvmd: mnj nqc\ntxl: jfr\npqj: xnh vzl\nqbk: tpn kdz\nckk: gqt ggq\ngxv: sbv vjm cxd\nfnt: kcq\nkzk: mcr pnh gnn mcs\njjd: rkc dtj hqr fqr\nbdr: ljv mfn xff\nspj: ngq\njpb: qgg\nfbp: tsc xld ncq qrl\nlzd: rvf xlx\nmrb: jnz brz\nvfr: vtj\nqpt: knd mgl\ngbt: pzb szl\npnb: qgq zvx qjz\nkgn: fsl jnx fnc\nghl: blr lnp tgj xvf\ngrq: nfm\nrts: lmm\nzmv: rhl\nsjt: hxz blb\ntfz: ttd stk nfb\nzdc: bdx nph ccn\nzzl: spv\nmtm: khv jqr jpn\ndtk: pqq qmx\njkb: flg gfh dgv rjm\nscm: ngq rrz\nmxb: sfg kdz\nhzt: zqs xkq blm hlf\nkxq: gnl cmn lmd ztq xrp\nrqd: phd bhl bjt knn\ndzf: kdz\nktd: flg\nrtl: gfx hxj cbl\ndbd: cnz pkn mvq lft\ncff: bps xnr\nhqr: lqt nlg mdl\ndxf: pcx szp mgj\nmjq: lsr smh tpm pqx\nljv: cqr\nlcs: xnr fjt\nhnh: jgr ghk hfk\nxdt: pmk lfc hvl\npmr: skm\ntfp: lsj npv pdf\nlmx: xht xnn\nsfk: pkp xnr ghl xdh\npqq: hht\njjr: kzc\ntjv: pbk jzp bng pbf\njbz: qvq vfj nfc\ngfh: zfr dqt\nvzm: vlh vrt mkg\nxxl: kqj lqg\nhkn: hxh\nxdh: jdl nph\nncz: rnv kdd rls\ndgk: txr vkx mvq frp\ntxr: chr ftv\nqcq: hzd lpm gvr\ntgv: ttm\ntpb: fmf krx pvg\nhfn: lxr jfx xnb kks fgl\nvpp: bgh\njrt: rcl xds fqc bqh\ndrj: vtj kps frj\nfdx: nmd scg\nkth: kzc cqr\nqqs: jxm vmg xdf\njkc: hbg xlt crz skm\nlcb: xpq vkq\nshs: bps\nrtk: vzl\nvrq: flg bbq grl nth\ncld: plf klh jkj\nlzh: txl\nxxq: zmv xjb vkr\nsbn: ncz lft pbk nxb\nvbg: tgv kpg mpg vdj pfl\nhvm: sgr htb tnk ztd\nsxc: hpx mxb tjb\nshc: zxp qvm\nxkj: dfm bjs ptl\ntsl: pbd xxl\ngfn: qzn mkk lmf\nbzn: xvv mfv lsr\nqrh: jsl\nvls: vrr vzm qgg pqz jjg ksm\nxfn: zvv frp fhl khb\nrxq: cjg spb dqm\nprz: sqb sxz xzb xrb\nhdt: dfg dmg jdj spn\nxnz: shc\nbhf: nxs lkj\ncfp: skb\npzp: smh jtd\nsfc: fjv\nrtn: lbl mpg ljd dzp\nrpb: hrk\nfmz: lkl mhq rpx scp\ncqz: lmx sqh\nmvv: bcv zfh nmd\ntxn: ckk\nqqz: cqj lzx\ntpm: lxc rrz\nbbm: vfh qgg\nqbz: vzj fdg cgk msn\nvpl: hpl lfp jxv srf zlx nmk\ndck: lxg bvt sth\nddb: ntx lmf jbz nbp\njqq: lbx zxp lhh mjk\nvdj: zrh gfn pzp jfj vsc\nstz: gnv rfx vfv hzs njs jts scx\ncfn: vth\nzcq: jzf\ntzn: fvv xpt\nkdr: glp lmf\nkbf: zvq sdf\ntsg: nzg\npds: qhh jbp klz stv\ncnl: nfm zvx cdr mfm\nfds: pmp dzl smm\nzrh: brl tsc dmg\npdf: hxc\nzrm: ztl lkj szl xct\nddh: tsl vlh cdg kdm bsl\nxrp: ngq\njpq: lxg frj kns npk\nhzb: ghl knc rdr mjg\ncbb: ndf\nzbq: thx ptv\nxjb: kns zkb\njnv: vnz rrc lrr fcd\nzjj: chg ftn pfd bcv\njqc: jjj ftv pdq glp pzk drm\nhzz: kpk vrz vlf qhk\njqr: csp dxx llt qct\nqgq: cqj nfm rzc kqd nmq\nlrt: bjs tgv bqh hfv xcx\nvbz: vjs mmt hbp\nhgj: vlf bdr kkf xpt dbc\nbrn: hcr mtm nlj rbj\nbgp: qmr jkj\ngmn: dkf pdm jbp\nkkh: khb\nsxz: gqt\nvsv: cqj\nsjd: mpd pdl rpx ckc hnk\nbkf: skb\ncll: tpp vzz kqn qjp\nrcl: rml\nqst: cps lbh\ncvc: xpq frb dmb scm\nkzd: cml pnx\ntpg: bhl qhl bng\ndfj: gtt bjh xdt tpn\ndnn: vpm xjj\npvc: kkp txl mcr bkz qbg\nvkq: xrp\npjb: nxs cqz fcj kfg\nqtm: pcp bxb\nprc: jdr ljv\nmhc: nzb kdm sbd pmk\nrrc: kkf grp\nzhs: qzh hmj qst pbd qzg\nkks: bbq knn\nxlt: sfc fpz\nplh: dkt ndg rnf khd\njhg: zkx ntx\nszl: qbg\ngrb: txr kpg jxv jsm\npkb: trr\nblf: vkg\nkvk: scg rbj vbh dqf ghb\nlxg: hpl\ndpr: stv\nsjh: vfr bxb rml\nxjf: bjt khp tdk fxp\nvvs: rcf zfr rqh\nnfp: ncq nrf\ngqh: sfj kkh sqs pcp\npzk: pkn gng fvc\nhsm: blf lxc rkc tgv\nghp: ftv\nvfh: pqz jzf\nczb: gcl xhd\ntgx: cfn szp zfh fsl\nhnb: bvx lfh cxd xct kth\ndhc: zzl lhh drm\nrqh: tlp hrn fbv\nxnh: xdl ntv\njql: jzp gbp hhs\nkpq: zlr\ndkf: skl\nmjg: ggq pkp\ntnn: qjz\nmkf: hpl\njzc: vnt bfb qsd\nrnf: nfc\ndxv: fsl fxf dtp xrd\nvqh: ttq bnf\nkjn: xdt phx ntl jzv\nnzm: npz cnz mnj nfz\nbrd: gvr tfv qrf jdr lqp\nftn: vpm\ngfx: dkb hmp\nxmk: grp ptv\ncqm: npv\nrnl: fbb kgp qzn\nzgm: kzc\nmxt: fzk\nqhl: mnn zkb\ngns: zhb xnj scg\nntn: vms bjb msn mjl\nzvq: bfn\nzzf: cbl\nncq: tfd fxf\nqjg: hcx\nvss: mjg jlr mvt\ncdg: rjj\npcr: khr bjf vkr\nsmf: snr fdx tdv npm\nvml: kcq xcl\nsvz: vph\nlcc: ptl drl\nhxq: gjg\nfsq: knd ccf kpp\nvlf: skl dzf\nqpg: gbp zfh\nrzg: qhc mbg hlx\ndht: jzf xht jdr bnv\nntv: thx hst\nsbd: bch\nfqp: tdk\njxv: rbj\nnhv: ngc rjb\ndrf: ntg jpk ssn\nsgp: gdp mfn zcd zkc\nprl: dpr kjs ghz jpr\nkhx: tqc jtb kmq\nlng: gxn vph jfr ngc\nszx: fds frb hrt xxq bgv tbl\nhvv: tsf gzc\npkr: pbb\nrcf: rrx drt jvh\ngvn: tfd kbf xjj qpt\ndfl: sbv gpx jxg jgx mbk\nqrf: fsb\njkm: jmn nhp rnl tbd\npqn: nzb zqn\nqsq: fzl qsj rnl hpl\nnfk: gxv jzf\npcz: zhd fqm fzk zkc\ndmq: tbl vbh\njvc: dmg mbg jql qvt\nzfp: hlt jtf fnb bbt\nfqq: nxs\nnsn: sbh nmq\nhxz: lxg qvm\nnpz: kkh\nvtr: hmp dnc dtk tnn kqm\nfqm: pxb nxs\nhbp: zkx\nqtx: rts bxb glt zvr\nnrc: sdf blf\nqrl: lmd\nlll: nfc vft blm\nrvg: qhz sbv\nmvt: xrf\nzkb: sfc ptn fpz\nsfl: ztq kgc\nghb: hvt\nvph: mvc\nvks: kvp rvg pfr jlr qkl\nxbs: fnc brt plc mfv\nctg: khm hmh szp\ndnk: bfn lbl frp\nnfj: tdk rtt hcc mqc\nkpk: xdl\nxvt: fqr hlx mgl fqc\nlxc: jsl clc\nptl: ftn\nppv: fpf ffq zhx cml hxh\nqlq: mfm\nkdb: qjb\nhhs: sdf\ngpg: lzx gdp qsm cjg\nnph: tfj\nnzf: nnn pqn kzd\ndbl: chk nxl pxl\nplv: llq xfk\nlql: ghp vkq ngd tmf\ncml: zrx\njsm: qrh xnj hnh\nljd: qxp vqh\npcj: hkn mbj tsb lsj\ngsg: jxz\nlkl: fhc jjr rjj\nmjk: dtp bpg jnx\nxsr: kdr jrn nzq lkx qpg\nfzf: znm xfq\npns: hzt nst pdq tcn\nflt: zjq lbh qkf cxd\nlfh: vph nzb rcj\nkpp: kns dmr vzd\nzbb: vvp kvz jmn rls\ngbn: dvr tsf\nhxl: pfd fnx\nlsp: zkd clc pqp kng gxg\nkll: jfk ldz mhx qck\nqmx: hzd\nvjm: gnn\nsfg: xqf dkf xct\nmnj: nqc\ncpt: cff hzd krb kdz\nxdv: xff nxt cfp pxh qjp\nxrz: xhz jjj nfb nzq\nknd: npz tdv\npnx: qtl gzc\nmkk: xdd lmm\nfkb: tlp xld frm fqf\nzcr: zfd fsb xtb tfj kqj\nsch: nmk xbz vlj\nzsb: zkm gbt tsl crf\ntpr: hhn jkd\nflc: stv\nxtb: znm\nflq: rht skm\nzrg: rcj fjt\njrc: vxt xhz lhh\ngjq: ltg dpz\njtf: qzn cql\nbcf: vnt rfp sfl zkd ljd\npcq: hkr\nrcp: jrz vft qbf\nnxt: qmr ttz kkp vss gjq\nnqb: rdv pxh blr\njqs: qzf pbf pmq hxp\nhmj: mfn nzg dqm kqd\nsbl: kbd jrz\nnlg: mgj\nzkt: bmz jnx fds zzl\nmkg: cdg\nqlr: bgv xmc mfv xdd\nsgs: xxl nsf vlh dvr\nxfk: hvt mgh\ngsj: mgk dgv lmm\nmbk: qjz sdb sbh\nfbq: hvj xfd qcn fqm znq\nzhx: ghl\nqtn: vgs blr jtb\nzdf: hpd zcd nfk zzf\nfrt: knn gjb fdj\nclc: ktd\nqfs: fqr\nzqn: kqn xnr xfq\ntzq: msr nsk frm bmb\nkss: khp mkf xvv fjk pjs\ndsk: zrx hnk dtk fzf\nxzc: qbk hmp ctm\ncdd: fsb jck\ntpl: tlk xtj sqz fst\nrjr: ngk czb crf zgs\ngcl: jfk\nhsb: vmd csp kdb\nfdl: lqg\nnxl: gjq tnk gnv fzf gtf cfp jgx\nllt: lhh\nnsz: gmz fdr gxr vth\njsd: hhn vrh fpz\nmgh: hhs\nppm: ggb vxt fgn cbq\ndzx: jfb\npqp: tmf mkk bsx\nlfc: hbz gtt pqn\nntc: rht fdg\nqkp: nbp gnl rdc\nfvr: crz bpq\nhvj: sxz\nssj: chg mxs\njtt: zfd\nlpk: hlx\ndzh: btc nkm\ncfg: dkb vck\nvft: zvs\nfdb: vms xjb hrn\nhcc: khr pcq gnk\nxxt: tjv fbf xld mxs\nfsl: ghk\npmp: blg fqf bjb\nbpx: hzh gpp khr vvs\nzpm: tnn mlz djk pdf\ntjb: rqt tpt bvx\nhbb: rjp rht nfc\nldg: jpn gns vkg vxt\npfl: dqt rcl jns\nxvv: fdb\nfgl: ckl jbs kfq fqc csr\nctz: prc nhg fvh hbz\nmph: xgc sgl jtt rmg\ncsp: kbf\nvcf: jtd fch chg jxv xnb\nkmq: rdv mnv lnp\nvbl: bdr pbd pdm\nhhm: jzv qjz lfd\ntjq: mdl kfq\ntrt: vds jkj\nldn: mxs\nvjs: zlx gpp\nkqx: kqj fts xcb\nkps: gfh\nztq: llf ntx\ndfg: cxc tvg qrh rkx rnv\nnlf: ntv tzn\nxcl: bps bst\nfqz: hxz jbs sjh bpq\npff: msr rtv xcd vfr\ndnm: qsm\nrst: bml grq trr tsf nrg\nnst: lfp fst zhf\nqhh: sgr\nxgx: ghz vck sxc tpk gss\nfzl: xpq\nfmg: jsd hfk rxs ttq zvq dmq\nmsn: mnj fjv bfb\ndzb: gjn lrs ztd tqc\nnlt: tsg vlt zvx bhc\ntvg: srg nfb drj zjd\nbml: jts fdl sdh\nrsv: mdl\nsfz: snc xnz nrc\njnf: dkt llq nfb fgn\nvvr: prc mxt gtz cxb trt smp tfp mcd\ndct: srf vvh fvr llq\nsbh: ccn\nnbp: llf nzq\nfjp: sdh svz pdf grp\nsnc: nnd kns crz vms dxx sqs\nksm: mvc\nxrd: pbb\nbrt: kdb\ntfj: zvx\ntcn: ccz ntx\njfx: gxr hnh mtn\nxds: zkd\nxcf: nfz khm\nfvv: rdj\ncxd: mfm\nfmj: ssh fnx vbh\nbmz: nxb hqc cgk\ndnc: vsm rqt shs mxb gdt\nqdh: dqt pbk mvq lbx\nkns: kgd\nqpf: jxz\nzqs: rml ptn\ntbl: jpp\npdq: qrh jlz\nqtb: sdb qjp\ntcv: vvp vmb chg\nqct: sxm cfn brj\nfqf: zkp\nxsj: kpk fvv fmf tpt mkg\nglt: rkx\nvzj: drl qpf\nplf: fvv kdh\ngxg: rtv glt bsh\nxhj: qck kqd lng\ndtp: kgc\nznq: trr qkl\ngch: ptv ndf\nrth: scx zfd kdm fnh mhq\nxjg: hcz cqv qsd qht\ntpn: nzg djk\nttz: vgs cml gdp jbp\ndlv: rdj fjp\nxnl: fbb qvm\ngfr: lbm rjp\nqbc: tpp lqg kzc cbl\nvkr: ggb npz rqk\nndd: chk qkl mcs bhc\nqkf: jsh nxs\nqrz: hbg jlz qpg\njfb: kvl jpb\nsjs: fhc chk jxg vzz\nntg: jdr qtl\nthg: zkd gjg\nvxm: jnk jnx hxq\ncbq: dck jxz vkv\nqdf: fjk zmk sjt ctb\nfcd: jtb xlb hst qhh gjn\ncrg: bjn rzc jpk skl xfq\njmn: jrz\ntbq: kdh mlz vds\nxgc: xzb mfm jtt\npmz: fdr qtm vlj\npkk: jsl khv\ndxh: hmm ksm cdd ltg\ntkj: lmd pbf rlh\ncjr: tdf ssb nhv rrc dqm\nfvc: gnc rsv\nlxv: msg zkx vzd dcm\nbvx: znm sqb\nqmr: zcq\nxqh: nkm tsc\ntpk: kvp\nzkz: tlk fnc zlx\nchk: nzb bps\nchh: dnk xvt brl\nvxr: rng ktm bdx xlx\ngbp: fjv\nhdn: hmm vsb xrf gdp\nhbf: nfz sdf csk scg\ncqr: mvc\nzhm: llf msr xdd jxz\nchr: vlj\nzdr: lvh ddg xvf\nzhb: xrd bsx jpn\ntjx: mkg bqd\nzfd: fzk\nxhd: pkb grp hcm\nzcd: nfm bqd jjr\nmlz: tpb ljh\nfts: qjg bkf sbh\nfvx: nmp kkf gtj khx\nbpg: hqc\nnfz: mmt vkg vvp phd\nxzx: hfp xtj frb hsm\nhgz: nhx nxb vzj tcv\nnxf: ndf\nqtc: qqs blr rfr gtj tbq\nzlm: bvt nzc fnc\nhpl: brt\nmqc: dnk lxg qfs dkt\nsmr: ljg qvm fpz xfk kzg mqq\nlvc: hxj bjr\nhvt: kkh\nrbg: tdf gnv\nqsv: bqd vmp zfd qtn ddg\njtd: bpg kbf\nvdm: nfm\nnvg: hnk vfj djk mrb jpb\nsnb: jnk qpf\nsqz: frj nxb rkc jvh\nqxp: bxb\nhcd: frt kgx xrd hvt\nlvm: bmb sbl dhc kks\ncrf: drf tpb pdf\nhcm: mnc vzz\nqlt: npv jpb fhc\nbnv: hmp\ngpl: gvr rng pzb\nnml: xfd vds\nhgs: qkf fvh qmx\nzbl: xht fzk lmg hmp\nptp: kps npk knz kvt\nmzv: rfp jrn btz\nnzj: rqz hvv xqf\nhkx: pkh hfp qlc\nkjk: pkp kdm gnn\nbnf: zvs\nmcr: pdm\njpr: vmm kkp hvv gzk\nbch: npv gch nzb\nzhl: prc gxn nvp hst ctz kpq\nsdx: vmg\nftx: xnh zlr pqz kxs zkg cmh\nrhl: mxs\nvfz: fjx ctb cmn shr\nhxj: ndf\nttv: pbf vkb rkc xrp qsd\nlzx: dkf\ngxr: fzl\nnvj: qzz hml hbp fsl\ndjk: stv\nhml: vbz xvs jzp\nmnv: tgj bkf\nnch: kdb vkb kgn\nvnh: mkn zkg bqp hnk\nxkx: vbl ljv zjq\nqcd: hzp skv xdf czb\nkhd: kks xpq cbq\ntsj: rfj rxs xlt ctb\ndlj: ttn tpk kvp lzx\nhkr: qjb\njdl: ltg sfg\nrmg: nvv ftr tks mxt\nvvg: qjg cqm hhm jfr\nmlt: ckc trt mvt hrk\nrnb: sxl tbc fdg\nzjd: rsv vrh zvv kgc\nvqx: nhv hvj sdx tgj\nfbv: pfd tdv hxz\nlbh: vfh\nsqs: srf\nnsk: hzh gfh\ndmz: kxs rlz ztd\nrgm: rqk bbn zkz dlz\nhmh: vfj ssh\nqtg: lrr pmk cjg cqz\nsrg: fjx brj\nxlb: nzg mfm nxf qcq mks xmk\nldz: nsf vqx\nsqh: jbz vmp\nbsm: zpg hmp fmf\njls: lzh vsv jtb\nhct: cbb thj gzc grq\nrvl: jvn bhf lrr cdr\nhrt: kfx dkt\npbr: tqc nvp xhd tjb\njcc: cld kth jxm xpt sbv\nchq: tpm lmf ksh bjb qpt\nqsm: lvc\nzpg: tnk ccn\ncpf: gtf qlq bps\nxgt: txr vhv dfm csz mzv\nqvr: mgn rcp kdd xds blm\nfhn: ghp ttd zbk mdv vkq\nmqq: qts rbt xrp\nqsh: ctb rml dqf mkf kdd\nhmv: pkr fjv\nxns: xcx ktd xvs fqb\nbms: plf mvt nrh\ncrb: tjx hgs rpb vgn lvq\nzhd: hkn lpm jxg\nsmp: cdd zhx\nlrh: zhd dlv pxh\nbjn: jpk\npdh: vft xfk zvv qpf\nbmg: jkj mrb flc\ngnk: hnh sfj fxf\nbqh: khb\njts: dvr tnn dkb\nfrm: knz\nqcx: qtb xnr mvh\nxsk: gnx tnk kcq klh pdf\nfmv: xfd tsf rxq\nqvt: lph sdf ljd\nbjh: ckc svz\ncjj: gdt ztl rvf vks hrk\nktb: cfg kzd kqn\nfxz: rht fpz bzn jnk\nfrj: dnn\nxrg: bgv zcc drj tcn\nkvt: dsh rhl mnn\ngbs: kxs jtt pds pqq\nfcj: ntt rbg nxf rdr\npkt: vlh tht zcq zzf\nxtj: jzp\nssn: hxj\nlvn: vqh qsj fpz qpf\njxm: lgj\nhzs: rzc lmk\nrgs: fdl tmz xcl sjs\nnbx: svz shs tjx mjg\nvxt: fjx\nbdt: zjd gnl pmp\nxtd: jhv cql zxp kbd\nkxb: bgp sdx dlv cps\nfvh: xdf jzv\nblb: vpm\nljg: png plv rhl fqp dkt zsx\nsfs: pqj sdx zbq kpq\nxzb: tpk jfr xrf\nlxr: bbq dmr zkp fhl\ngzp: rcl knd spj hxq\ngvg: scg bgh chr nmd\nfps: hfp zlm jkb scm\ntsb: shv phj\nskh: pkb qqs hpx gnx\nmmx: hbz ktm zhd rdv\ngjb: pmr sxm\nrzx: mvv qvq dfq fxf\ntjc: mxs xtj\nkfs: qjz shs qhk nml\nbkz: nfm\nfgn: zvs hsb\nnvd: qmr kjk kqj txn xpt\nffk: kmd pcr shc\nmsr: qfs\njzh: bnn jnp tdk hfh\nnxd: kcx\ncsr: fqc dlz\nzkc: dvr ghz\nggm: hjb xtj\ncqv: rls xnj zvs\nqjh: lmg hxj rpx zpm\nbrl: tfd vmb\nrhk: hlx snb zmv fnx\nnzc: cnz ghp\nllq: vfr\ndms: rkm rpb trr\nhxp: ssj rtt bsh\nzgs: hrk zlr fmf\ntht: pnx mbj bqd\nmrk: mcs xkx xqf vml tnl\nffq: spl gfx\nfcn: nth pfl sxm xnz\nkdd: jrz\npqh: hbn sfl btz lcc\nnzx: bkz jls npv mcd pbd\nhmf: dvl mkn tdf cnx\nzhf: ght jjj\ndrm: rcf cbq\nlfp: kmd\nhhn: fsl zkx\nrzq: qdf jsm ttq sbl fmj\nftv: ssh\nzqj: shv hhm jfb qkl\nksh: gnc mxs fbf\nmhx: sdb rtk\nzvr: lsx qxp fcq\nsjb: mgn kfq bqh xbz\nfqb: jhv plc\ncxc: smz hkx gng\njlr: rdj gss mkg\nxhr: brz rng nvv vbl\nvln: tdf sgr\ngzk: hkn znm gch\nrjx: bkz tpp dbl mch\nxnv: rrz nhx lft\ncnx: ktm xlz\ngjg: ggb\npjs: mnn qrl\nvhv: dqt dfm rbj\nvrr: mvc skb bjn hvj\nztl: sqb nxd\nlkg: rrz bgh sxl\nxfp: zzf vfv lrh gtz\nckc: rpx jfk\nvrz: nvf spb gnv vjm\nszp: vmd\nkdh: pxb tvp\nnmp: tpb ddg nxf rtk\nbrz: qbk\nrfx: dkf spb\nncd: vlj pzk gbp spv\ndcm: knn\nphp: ntv hxc klz\nqvq: fxl\nlmd: bbq\nbvt: hfp jxz\nbqk: fqc phd srf bcf\nljh: xnr htr\nkng: bjj gnc vkv xcx\nrkx: hkr tbc\nbjj: hzh fqb stk qkp pzk\ngtj: cqm gjn sqb\nkqv: bcr xnl sfz hbp\nnbg: zdr jpb qrf jnv\nfxf: jzp\nssb: dnm nqb vnz nnn\njgr: hxq mgj\ndzp: lmd\nzjq: ttn vsv\nbfb: kmd\npgr: mks hht xzc cqn xvf ttn\njxz: vpm\nbcv: hlx ctg jrz bvt\nvbh: mgh pkh\nrkb: rht hfk sth\nphj: fmf zgm\nbgv: fkn hbg jql\ntbf: cjr nrn ngc xct\nthb: hhn tbc tpr gxr\ntlk: llt qsd hrn xpd\nqrb: kzc rzc rtl sbd\nhlt: hbb nmd nzc\ncls: qtm hmv jsd png lll hqc\nnxn: nsk gfr lkg kvz bjd\nvzl: gnn\npsh: vxm jmn vvp\njbs: vkv jhg\npxg: gzc ghz nvp zbq\nbbt: pkh bcv qrh fcq\njfj: fnb rxs\nnrg: hmp svz hxj\nrnk: qlt fzk pkp zhd\nbpq: ccf\nqbf: clc qsj nqc\nxnn: qhz hbz zkm\npbh: hcz kgp dtj vkq\nxkt: dzx zrx vdm ldz txl kxs\nhbn: fqr pcq xmc\nrdc: blf xrd thg\nmjl: rjm jhv mnn\nmch: klh kqd qlq\nxcb: hgs qrf\nsmh: gpp hpl\npzs: pdm bbm fzk fnt\ncmn: phd kfx hhs csr\nldm: ldn fnb zqs kmd\nbng: nxb rkb\ndgv: msg bfn gjg\ntbd: csk\nxjj: glp\npxl: bjh vsm zrx xcb\njrn: tkj vkg vfj\ntvp: xht hmm\nlnp: lvq gpx cbl\nfxp: jpp dmr\ntdx: scp rqz tfj dqm bsm zvx\nndg: gbp jlz cnz\nshv: gxn\ndlz: flq\nfbb: nhx\npkh: zfr xdd hqc\nrlq: bgp fmt vln\nbsl: kcx fqq\ndmg: sdf fxp\nbtc: ktd hkr qxp\nxfd: rcj\nsnr: rqk\njjq: npm blb\nrjj: gxn lgj\nrjm: zbk qtm fhl lsx\nqzf: dgt fch nfp khr\nshr: hlf bjt cft\ncdr: rvf\ncmj: kdz\ntmf: vms ftn\nfjk: vkx bnn vnt qhc\nqkl: kcq\nblm: xnb\nkrx: cpf vph\nskv: tvp\ngtf: fnt\nthx: zkm\nvvh: vfj nzq dck\nvqp: pbd zrg\ndqt: npm\nmcd: kcx gml\npvp: ntc rts jnp bjs\nxlz: shv bst\nrfj: ffk rnb\nlfd: qjp pvg\nqdk: rdv tmk vnz qcn\nzkg: vjm mks\npmq: cft fst kdr\ngnl: hmv zkb\ndxx: ldn zxp\nrfr: lmx nzf vln\nzgl: rpb spb ppv pxh\nhvk: pcq sxl bpg hdz\nvrh: pmr tsc\nvsz: jjq khb xcd\nlrs: pqj vck cdr\nmsg: vth\nscp: vgs mdj\ncqq: fsb\npng: qlc lsx\nxrb: skv ppv ktb\nzmk: kvz pcx lgk\nkzr: dcd cjg dms cnx\nprt: msr chh xnz xcx\nqzq: xhr kpk phx mcd\ndvl: gnv kdh nhv\nxfq: bjn\nzzk: kvz cft pcp xvs\nnhg: nzf vbl skv\nsdh: mbj nvf nsn hxc\nftr: hxh rlz\nttd: jhg\nbqp: jxm cqm\nfch: fvh jhg\nxkq: fnx tdk hfh\nkgc: kfq\nbnz: gng xqh psh fqp qrz\nlbl: lkx cql hlf fdg\nkxv: jdr ztl kpq\ntpp: lqg\nzcc: vth rbj bbt\nhfk: vkg\ngjk: bhf pnx dkb cfg\nlhc: php vsm vns rkm\nmgk: zgh lcb ttd\nbtz: glt qtm tjq\nlsj: jxg\ngnx: gss\nbtf: tnn pqq nnn kdz\nlsr: gfh stk\nvlz: rrx nrf ghb fqf\nknc: skb vds hcm lzh bhf\nlvq: mnv\nfst: ptn gbp\nnrf: blb khm bsx\njdj: fbb ttm dnn\njcm: pkp xqf lzd kfz nsf\nrqz: qmr\nblr: hcx\nngk: zgm mvh hxh\njxf: dvr mnc lzh tfv\nlvh: tfv rvf jfk\nfpf: rdj jgx\nqfh: mvt jxf ssn pnb\nttm: ntc fvc qct\nxld: llq hml lfp hbp\nsld: lgj vck rqz rvg\nbcr: lmf ggb hfh vkv\nccf: sth\nxff: xlz ntg\njsh: qhz kqm nxs\nmbj: lqg\nxnr: spl\nkhv: sfc\nzxx: zfc fzl fqp csp\nnnl: txn pvg gdt\nshh: frp sfj xcd pqx\nmhm: lss dzb ntt mkn\nhqf: bbm fmv sbd\nhtr: fdl jzv\nqgg: mfn\ncxt: nsk rts pqh kgp\nshj: skl tpt pxl\npdl: lmg fjt fdl\nssh: gsg\nbjd: rtt zmv fqp\nrjp: lgk pmr kgp brj\ntqc: rxq\nxjv: xdh hpd fts bnv\nhtb: brz jdl sqh\nqht: hxq xjj\nrbt: zmv vmb nhx\nclm: nsf dzx cbb jsh\nscx: cqq\nnhp: grl spj\nhrk: lfd jck\ntmk: nvf gmn\nblg: fzl vpp\nvnt: bfb\nvrn: xvt kpp sfj xpd\nvlt: hpd kcq qlq\ngtt: lcs rfx\nkpx: gjb zvq ztq vtj snb\nrcj: dqm\nhkc: lrc chr pkk rkx\ncsk: jnk bgh\nvmb: hfh\nqck: dkb mvh hmp\nkzx: rlq vfv mhm gbn pqz vqp\nlpm: jsh zzf\njlz: tbc tbd\nsdq: nmk rfj pbb pqh\nrtv: zlf tjc cql\nphx: ghz cdg\nqmk: gtf lqp ssn\nzqt: cfp tdf phj\ndsz: bnf lxv gbf scg\nspn: qvq mgh pcx\nvns: spl xdl xlx\nmln: pfq xpq csk gpp kfq\nxvs: hpv\nnrd: fgn xnl bdt kzg\nkpg: dzp khv\nkvp: qtl\nnsg: sbz qjg qbg ffq\nktj: bst fzf nvg xdf zhx\nxkn: rtt xpd pmz jpq vkb\njgx: qkl\nphk: kqj nzj zqt hzs\njdh: bfn pdh bjf zgh\nlkj: ptv zkm\nkkf: bjr\nnpk: pkr\njns: grl hmh nlg\ndpt: qhc jxv llf cft\nmvq: nqc\ndqf: hpv ckl\ntdt: ntl mbr nsn kvl\nthj: lbh zrg qhh\nvmg: pzb vds\nzbk: jgr sch\nkjs: gpx sbz rbg qcn\njvn: ktm cps ckk mcs\nfbf: qfs dmb\nsbp: vmm krx smp kzl\nxpg: qcx jjg cqq fdl\nbsh: lpk vjs qhl\nxmc: nqc msg\njhl: gzk mjg dzf hpx\nvlh: cmj\ndrl: dsh\nxlk: flc vqp tsg sbz cqq\ngbf: mfv jvh\nmkn: cps\nnjs: hqf hkn cqq mdj\ndcd: jpk lmg gpx\nmdv: bnn jrc dbb\nvsb: znq pkb dkb\nmbr: tsg dnm tgj\nzsx: gbf crz hlx rlh\nkzg: bjf hpl\npxb: bst\nfmk: mmt hjb mbg tbc\nxcx: ccf\ncmh: qqz jzf zbq\nqnc: bsl bhf ftr scx\nqts: fng nth fdx dmb\ngml: dqk mdj ntt\nqdm: vtj fdj mxs jzc\njrr: msr flg ptl knz vsn\nlqp: skb ddg\nkhk: fsq skm jhg hmv\nmgl: sdf\nsbz: nmq\nshm: snc grl tgx brj\nvmp: qtl lsj\nzfc: bjs dnn vfj vzd\ndfm: qjb pqx mkf nkm dfq jkd\nfgb: ggq qsm nsf nxd\nncr: sgl hzp jtb tgj\ngss: kzc\nmdl: sxm\nkqj: jck\nrhs: ghb tbc tbl snr\nfkn: tjc fxl hbg\nrqt: kfg\nkvd: dcm qlc xvv mhg xrz\nvrt: krb cqn cqj thx\njbc: lcc nmd cft lqt\nhjb: mjk bfb pcp\nrfp: jsl bjt\ncxb: tks htr mkn\nnrn: rqt txn pqq\njjg: cdr cff\nmfv: tlp\ndvd: xnv xqh jnp dzh\nkvl: gjk vgn sxz\nnrh: tmk xmk flc gbn\npnh: fpf nlf xtb\nctm: tzn gjn ccn\nspg: bsl ckc zdc nvv\nqzz: qhc gsg jkd qrl pzp ggm\njnz: kqj qjg\nkqm: vdm jbp\nqzg: rkm lvq ggq\nvmm: fqq gdt\nvsc: hkr vkb qrl\ndsh: knz vfj\ndrt: vpp khv jhv\nltg: nnn\ncfl: zvs fjk dxf xcf\nmtn: ntx cfn\ngtz: vml krb bms\njhv: hxl\npfr: cmj mhx lvh\nzgh: zzl\nxnb: sth thg\nvhz: rrz kgx hcz pjs\nsgl: gpl nvp zgm\npbk: kfx\nrdr: tsb cdr bch\nrlz: hzd kcx dpr kfz\nmpg: rls fdj\nqzh: spb cqq pqn\nqsj: lgk\nkzl: mcr nmq\nnlj: csk spv\nhht: ptv szl\nxbz: jjj blg\nlft: szp\nlgj: kfz\nhpx: cqr mhq\nktm: vgs\nfng: ssj hfv bnf\npss: vsc bpg zmv msn\npkp: nvv\nhfv: gng mgj\ndkt: vzd\nrqk: lgk\nnmk: tbd\nspb: mks\nzkp: mbg msr\nsvq: jfk kxv jjr nfk tpt\ndxg: pfd csz bjj zgh\nfnh: hxc bdx bnv xfd\npfs: gsj rlm rnf lcb mgl\ndbb: rxs dmb\nhfp: qjb\ndbc: cll cmj xdl fmf\nrkm: nph kqd\nkrb: mvc\nxcd: flq pqx\nztd: gvr\nnkm: ttq ftv\ndfs: spl vsv gnx nlf\ndqk: mnc lzd cml\nccz: fqf csp qlc\ndsl: nml nxd bkf qbg\nsmz: fcq qzn hrt\nvsn: lcb nlg lpk\ngqs: mtn hlf dzh bpq sqs\nzlf: vsz ttm nlj\ngqt: dzf ntt\nxzp: qsj hxl fqf jfj\nnzg: ngc\nlph: snr jzc llt\nrng: sgr kfz\nngd: tlp fqf\ncrx: spj zhf vth qvq bpq\nfdr: dtj ghk pbb\nfdj: ghk hlx\nkgx: mmt gnc\npfq: zlx hkr ght ngd\ncgk: dtp npk\nkgd: pfd rnf\nklz: rcj mcs fjt\njnp: xcf fbf\nfrb: hlx fhl lbl ffk\nvck: pvg\npkn: smh mdl\nrjb: gcl sdb hcx\nspv: zfh nnd ckl nrc\nlrc: bsx tfd qsq\nvkx: frm gjb\nlmk: klh zqt scp\nfzt: zcq hgj dmz gbt gzc xdh kfg\nhcr: kpp rsv nfp ggm dmr\nqlv: lrr kmq nvf dms\njpp: hbp vfr\ntks: lvc rtk\nlbm: rht llq\nvnz: dpz\njxr: dcm zfr hpv tbc ftv\nrqm: csp gvn bbn rtt\nhvl: cqn hrk nnl\nplc: brt\nbmb: dfq ckl\ndzl: fqz dzp tpr\nxhz: kmd xcd\njkd: npm\nhmr: jtf ght xds gfr\nfpv: qqz cbb shj cxb\ngmz: kfx rlh rbj hpv\ndgt: lhh tdk rdc\npsm: rzg qdh khb drl\nlqt: jpn fxl\ntfv: fvv\nngc: hcx\nkbd: pcx phd`;

function inputToGraph(input) {
  const lines = input.trim().split('\n');
  const graph = new Map();
  const connections = new Map();
  for (const line of lines) {
    const [node, linkedNodes] = line.split(': ');
    for (const linkedNode of linkedNodes.split(' ')) {
      if (!graph.has(node)) graph.set(node, new Set());
      if (!graph.has(linkedNode)) graph.set(linkedNode, new Set());
      graph.get(node).add(linkedNode);
      graph.get(linkedNode).add(node);
      // Store graph edges (for counting connections later)
      connections.set(`${node},${linkedNode}`, 0);
    }
  }
  return {graph, connections};
}

// Breadth First Search
function bfs(start, end, graph) {
  const cameFrom = new Map();
  const queue = [];
  queue.push(start);
  cameFrom.set(start, null);
  while (queue.length > 0) {
    const node = queue.shift();
    if (node == end) break; // early exit
    for (const linkedNode of graph.get(node)) {
      if (cameFrom.has(linkedNode)) continue;
      queue.push(linkedNode);
      cameFrom.set(linkedNode, node);
    }
  }
  cameFrom.delete(start);
  return cameFrom;
}

function countConnections(curNode, cameFrom, connections) {
  let prevNode = cameFrom.get(curNode);
  while (prevNode) {
    let connection = `${curNode},${prevNode}`;
    if (!connections.has(connection)) connection = `${prevNode},${curNode}`;
    connections.set(connection, connections.get(connection) + 1);
    curNode = prevNode;
    prevNode = cameFrom.get(prevNode);
  }
}

// Depth First Search
function dfs(currentNode, graph) {
  const visited = new Set();
  if (!currentNode) return visited;
  const stack = [currentNode];
  while (stack.length) {
    const node = stack.pop();
    if (visited.has(node)) continue;
    visited.add(node);
    for (const linkedNode of graph.get(node)) {
      stack.push(linkedNode);
    }
  }
  return visited;
}

function removeConnection(connection, graph) {
  const [node1, node2] = connection;
  graph.get(node1).delete(node2);
  graph.get(node2).delete(node1);
}

function addConnection(connection, graph) {
  const [node1, node2] = connection;
  graph.get(node1).add(node2);
  graph.get(node2).add(node1);
}

function getFirstNonConnected(visited, graph) {
  for (const node of graph.keys()) {
    if (!visited.has(node)) return node;
  }
  return false;
}

function divideInTwoGroup(connections, graph) {
  // Compute shortest path for 500 random nodes pairs
  // and count how many times each connection is used
  const nodes = Array.from(graph.keys());
  for (let i = 0; i < 500; i++) {
    const start = nodes[Math.floor(Math.random() * nodes.length)];
    const end = nodes[Math.floor(Math.random() * nodes.length)];
    const cameFrom = bfs(start, end, graph);
    countConnections(end, cameFrom, connections);
  }

  // Take the 20 most visited connections
  // We probably should cut there to divide the graph in two
  const sortedConnections = Array.from(connections.entries()).sort((a, b) => b[1] - a[1]);
  const mostVisited = sortedConnections.slice(0, 20);

  const nodeInA = nodes[0];
  // Try every combination of the most visited connections
  for (let i = 0; i < mostVisited.length; i++) {
    for (let j = i + 1; j < mostVisited.length; j++) {
      for (let k = j + 1; k < mostVisited.length; k++) {
        const con1 = mostVisited[i][0].split(',');
        const con2 = mostVisited[j][0].split(',');
        const con3 = mostVisited[k][0].split(',');

        removeConnection(con1, graph);
        removeConnection(con2, graph);
        removeConnection(con3, graph);
        const nodesA = dfs(nodeInA, graph);
        const nodeInB = getFirstNonConnected(nodesA, graph);
        const nodesB = dfs(nodeInB, graph);
        addConnection(con1, graph);
        addConnection(con2, graph);
        addConnection(con3, graph);
        if (nodesB.size == 0) continue;

        // if the two groups cover all the graph, we found the solution
        if ((nodesA.size + nodesB.size) == graph.size) return {nodesA, nodesB};
      }
    }
  }
  throw new Error('No solution');
}

// Part 1
const {graph, connections} = inputToGraph(input);
const {nodesA, nodesB} = divideInTwoGroup(connections, graph);
console.log(nodesA.size * nodesB.size);

// Part 2
// Just push the big red button
const input = `R 6 (#3a8da2)\nU 3 (#2f9f73)\nL 3 (#1fe640)\nU 3 (#450603)\nL 6 (#42b340)\nU 5 (#4a2f93)\nL 9 (#2141a2)\nU 4 (#132a73)\nR 5 (#5c9dd2)\nU 3 (#2846e3)\nR 3 (#1c32a0)\nU 10 (#087b73)\nR 4 (#522860)\nD 2 (#087b71)\nR 2 (#0f8470)\nD 11 (#4831b3)\nR 4 (#629982)\nU 5 (#538163)\nR 5 (#15b550)\nD 9 (#0c65e3)\nR 4 (#609e90)\nD 4 (#5b5573)\nR 2 (#1c0670)\nD 7 (#276a63)\nR 3 (#40e730)\nU 4 (#6dcfb1)\nR 7 (#19b9f0)\nU 3 (#6dcfb3)\nR 5 (#45ea40)\nU 7 (#56be23)\nR 3 (#3f3c42)\nD 4 (#3a54f3)\nR 7 (#3a8272)\nD 6 (#168a43)\nR 6 (#44b762)\nU 8 (#364ed3)\nR 2 (#1d25a2)\nU 5 (#092743)\nR 4 (#4194b2)\nU 4 (#0587c3)\nL 4 (#15b552)\nU 8 (#35ff93)\nL 6 (#120db0)\nD 5 (#5b5793)\nL 4 (#561d50)\nU 5 (#2fdd23)\nL 5 (#2346b0)\nD 5 (#2d9ca1)\nL 4 (#397dc0)\nU 5 (#12f941)\nL 5 (#198cc0)\nD 4 (#15b421)\nL 3 (#37b0c0)\nD 4 (#64a741)\nL 3 (#37eeb0)\nU 4 (#70b791)\nL 3 (#1cce30)\nU 2 (#2a02f3)\nL 10 (#40afc0)\nU 5 (#13c923)\nR 4 (#3cdc00)\nU 7 (#35a213)\nR 2 (#2bfac2)\nU 3 (#12bd13)\nR 4 (#368712)\nD 10 (#12bd11)\nR 3 (#1b09f2)\nU 4 (#130c23)\nR 8 (#2e81d2)\nU 5 (#139913)\nR 3 (#124342)\nU 5 (#717c23)\nR 4 (#124340)\nU 6 (#012243)\nR 7 (#2e81d0)\nU 3 (#1ef723)\nR 5 (#351200)\nU 10 (#560f13)\nR 4 (#687990)\nD 10 (#4f2d23)\nR 4 (#3afc02)\nU 2 (#479751)\nR 4 (#22e722)\nU 6 (#32c2b3)\nR 8 (#3233f2)\nU 3 (#414aa3)\nR 2 (#122912)\nU 6 (#2cb103)\nR 8 (#122910)\nU 5 (#5073e3)\nR 3 (#3e3442)\nU 3 (#2fd121)\nR 7 (#0abaa2)\nU 3 (#654641)\nR 10 (#48f702)\nU 5 (#0fac31)\nR 3 (#53b1a0)\nU 3 (#19abf1)\nL 6 (#63a8a2)\nU 3 (#32c2b1)\nL 4 (#568032)\nU 3 (#479753)\nL 5 (#41b292)\nU 8 (#0156d3)\nL 5 (#28da72)\nU 5 (#093481)\nR 5 (#38a262)\nU 6 (#093483)\nR 2 (#232a02)\nU 3 (#4a34f3)\nR 4 (#2cee90)\nD 6 (#261611)\nR 3 (#2979d0)\nD 3 (#261613)\nR 6 (#2e3e70)\nU 6 (#3c73e3)\nR 6 (#3e4eb2)\nU 3 (#450573)\nR 3 (#3a8da0)\nU 8 (#0c90f3)\nR 5 (#454740)\nD 7 (#512103)\nR 8 (#454742)\nD 3 (#484823)\nL 8 (#31f8c2)\nD 5 (#7042d3)\nR 5 (#433532)\nD 6 (#4a7ad3)\nR 3 (#4925e2)\nD 4 (#2f1753)\nR 3 (#019512)\nU 4 (#03a033)\nR 3 (#4d4932)\nU 9 (#14be23)\nR 3 (#1009e0)\nU 3 (#0aed43)\nR 2 (#66c2e0)\nU 6 (#0aed41)\nR 2 (#0af680)\nU 3 (#2c1ce3)\nR 5 (#1640e0)\nU 3 (#4345a3)\nR 4 (#730a72)\nD 8 (#1ef853)\nR 4 (#0423f0)\nD 3 (#53c133)\nR 6 (#3cd4c0)\nD 7 (#658261)\nR 4 (#402de0)\nD 5 (#658263)\nL 8 (#351910)\nD 4 (#0f96b3)\nL 2 (#31f8c0)\nD 5 (#2ac2b3)\nR 4 (#4f59c0)\nD 6 (#6349a3)\nR 7 (#4f59c2)\nD 7 (#409a43)\nR 3 (#4b5590)\nD 5 (#2a76a1)\nR 10 (#3c6170)\nD 3 (#2fad71)\nR 11 (#4597b0)\nD 3 (#2fad73)\nL 3 (#20fbc0)\nD 5 (#48fc11)\nL 4 (#0ee960)\nD 4 (#19ed41)\nL 2 (#33b710)\nD 6 (#7ac9f3)\nL 7 (#455d50)\nU 8 (#7ac9f1)\nL 7 (#2ea4a0)\nU 2 (#5784a1)\nL 4 (#01c362)\nU 3 (#034421)\nL 5 (#335dd2)\nD 9 (#242de3)\nL 2 (#439ce2)\nD 4 (#242de1)\nL 4 (#26f8d2)\nD 8 (#034423)\nR 5 (#080222)\nD 8 (#4a0e41)\nR 2 (#60bea0)\nD 10 (#3e6533)\nR 5 (#4057a0)\nD 4 (#3c47e1)\nR 4 (#755410)\nU 7 (#2948b1)\nR 5 (#755412)\nU 3 (#3507a1)\nL 5 (#3cd8c0)\nU 7 (#11e483)\nR 3 (#1c8e10)\nU 2 (#1cc4e3)\nR 4 (#32b620)\nU 3 (#642d83)\nR 4 (#011140)\nD 4 (#07c153)\nR 4 (#0bbf30)\nD 4 (#2b5e91)\nR 7 (#3f5b30)\nD 7 (#407d93)\nR 3 (#365730)\nD 3 (#407d91)\nR 7 (#350d80)\nD 3 (#2b5e93)\nR 2 (#466b90)\nD 4 (#3e6531)\nR 5 (#1a1ef0)\nD 3 (#746123)\nL 3 (#264eb0)\nD 4 (#1701a3)\nL 7 (#3418f0)\nD 3 (#517b83)\nR 10 (#3018a2)\nD 5 (#4fe233)\nR 5 (#3018a0)\nD 3 (#050463)\nR 3 (#66f640)\nD 7 (#4c75c1)\nL 4 (#0ec242)\nD 6 (#3ef951)\nL 3 (#0ec240)\nD 6 (#31f4a1)\nL 3 (#2a54e0)\nD 2 (#2cd4e3)\nL 6 (#1ac840)\nD 4 (#0ee1b3)\nL 2 (#42ac72)\nD 6 (#525f13)\nL 8 (#42ac70)\nD 4 (#2c7c13)\nL 5 (#0ec8e0)\nD 4 (#1663a1)\nL 2 (#371830)\nD 3 (#2f8b71)\nL 2 (#289f50)\nD 2 (#386c51)\nL 9 (#029a02)\nD 4 (#0da8c1)\nL 3 (#029a00)\nD 9 (#34bb51)\nL 3 (#1b23e0)\nD 4 (#6708d3)\nR 6 (#531fd0)\nD 3 (#3841e3)\nL 10 (#2b95f0)\nD 5 (#0b1123)\nL 7 (#043160)\nD 3 (#45c881)\nL 8 (#1311b0)\nD 2 (#1c5de1)\nL 4 (#282830)\nD 3 (#1498f1)\nL 6 (#404d60)\nD 8 (#1498f3)\nL 6 (#464130)\nD 7 (#1c5de3)\nR 6 (#14d9a0)\nD 7 (#335281)\nR 6 (#5a83b2)\nU 5 (#35f091)\nR 3 (#32c622)\nD 7 (#3ea891)\nR 4 (#1a3540)\nD 5 (#38f8e1)\nR 2 (#01dee0)\nD 6 (#1e0d01)\nR 7 (#01dee2)\nU 7 (#2458b1)\nR 4 (#1a3542)\nU 3 (#485e31)\nR 3 (#3dfb92)\nU 8 (#076111)\nR 3 (#2a3d00)\nD 5 (#382df1)\nR 8 (#581c30)\nU 6 (#382df3)\nR 2 (#48ec30)\nU 4 (#39f6f1)\nR 9 (#584540)\nU 2 (#069121)\nR 4 (#025980)\nD 7 (#60ed01)\nR 2 (#4527a0)\nD 5 (#137c01)\nR 4 (#121230)\nD 5 (#496b61)\nR 3 (#121232)\nD 8 (#21d331)\nR 3 (#459460)\nD 3 (#2ff611)\nR 4 (#3d7cb0)\nD 6 (#085ce1)\nL 2 (#29ff90)\nD 8 (#5bf6e1)\nL 5 (#2c1210)\nU 6 (#18c7f1)\nL 8 (#0579a0)\nU 6 (#572021)\nL 3 (#598170)\nU 5 (#06b4c1)\nL 4 (#1b6760)\nU 3 (#0c1941)\nL 4 (#3f7362)\nU 7 (#017a91)\nL 3 (#357572)\nD 10 (#66d1e1)\nL 4 (#497ae0)\nD 6 (#0d3661)\nL 8 (#51e8f0)\nD 3 (#00ef83)\nL 2 (#171a50)\nD 5 (#3b51a3)\nL 8 (#6000f0)\nD 3 (#3f99c3)\nL 5 (#0ef1a2)\nD 3 (#293853)\nL 4 (#0ef1a0)\nD 6 (#3a5dc3)\nL 3 (#500020)\nD 4 (#53f551)\nR 7 (#488080)\nD 3 (#3105f1)\nR 4 (#0ac790)\nD 3 (#46a3a1)\nR 6 (#3f7840)\nD 7 (#0e27e1)\nR 5 (#40db62)\nD 2 (#4eabd1)\nR 2 (#42c2d2)\nD 7 (#728b61)\nR 4 (#0f2222)\nU 5 (#3ecf51)\nR 4 (#3fa250)\nD 8 (#420b41)\nR 7 (#527350)\nU 8 (#237ae1)\nR 6 (#563bf2)\nU 4 (#596db1)\nR 3 (#3bd9b2)\nD 8 (#442b11)\nR 7 (#637ed2)\nD 6 (#2a4a61)\nR 8 (#048522)\nD 3 (#258c51)\nL 8 (#304310)\nD 2 (#104541)\nL 5 (#2deef0)\nD 10 (#58b931)\nL 2 (#2deef2)\nD 9 (#46ad21)\nL 6 (#304312)\nD 5 (#118ed1)\nL 2 (#18ad92)\nD 6 (#351ce1)\nL 4 (#69af62)\nD 3 (#50c8c1)\nL 9 (#69af60)\nD 3 (#2c20c1)\nL 9 (#2d70b2)\nD 3 (#653331)\nL 3 (#041772)\nD 3 (#433ee1)\nL 5 (#47a432)\nD 2 (#5afb21)\nL 7 (#5f2c02)\nD 3 (#307cb3)\nR 3 (#694432)\nD 3 (#2a7e73)\nR 5 (#11bea2)\nD 6 (#0f7073)\nR 5 (#341e72)\nD 4 (#0b50d3)\nR 5 (#2d88d0)\nD 4 (#55b143)\nR 5 (#021a00)\nU 8 (#212b93)\nR 6 (#270750)\nD 8 (#6b2c81)\nR 4 (#4186c0)\nD 4 (#0bb051)\nR 6 (#66ad60)\nD 5 (#369cb3)\nR 6 (#22e6e0)\nD 6 (#5c7d93)\nL 4 (#57dde2)\nD 5 (#0b1903)\nR 5 (#031e82)\nD 10 (#341fa3)\nR 4 (#3de9a0)\nU 10 (#4b1023)\nR 5 (#3de9a2)\nD 5 (#1ce343)\nR 5 (#2670e2)\nD 6 (#27b8e1)\nL 6 (#153582)\nD 7 (#4a0731)\nL 4 (#153580)\nD 3 (#2a52f1)\nL 9 (#39c652)\nD 4 (#3e7003)\nL 2 (#0d20d2)\nD 3 (#1c6543)\nL 8 (#5970c2)\nD 2 (#46aeb3)\nL 9 (#21a052)\nD 2 (#556cf1)\nL 4 (#3785b2)\nU 3 (#6f40c1)\nL 6 (#104042)\nU 6 (#2dcec1)\nR 9 (#4b8e52)\nU 5 (#43c041)\nR 3 (#129282)\nU 3 (#238321)\nR 11 (#0388b2)\nU 2 (#28d831)\nR 2 (#1cdf62)\nU 5 (#3bcb23)\nL 2 (#3b47d2)\nU 5 (#3bcb21)\nL 4 (#29a9d2)\nU 5 (#0ea4b1)\nL 5 (#652142)\nU 5 (#448ca1)\nL 5 (#29a232)\nD 3 (#344e71)\nL 5 (#44c202)\nD 7 (#5a5ac3)\nL 4 (#38ddb2)\nU 5 (#22f823)\nL 6 (#2a3370)\nU 3 (#548123)\nL 6 (#2a3372)\nD 7 (#4b1773)\nL 5 (#38ddb0)\nD 6 (#09caa3)\nL 4 (#447ee2)\nD 3 (#5d9e61)\nL 4 (#41a572)\nD 3 (#1fc961)\nL 6 (#653212)\nD 5 (#42d801)\nL 5 (#024ff0)\nD 4 (#3d0481)\nR 6 (#62e220)\nD 4 (#2971d1)\nL 6 (#4d2482)\nD 6 (#432871)\nL 4 (#19cb42)\nD 4 (#480031)\nL 5 (#19cb40)\nD 5 (#1101e1)\nL 4 (#268ae2)\nU 4 (#199fa1)\nL 3 (#506542)\nU 6 (#5891b1)\nL 3 (#2b8450)\nD 10 (#238171)\nL 3 (#3005c0)\nD 2 (#08b8e1)\nL 4 (#252980)\nU 3 (#4b2041)\nL 5 (#164100)\nU 6 (#379ee1)\nL 4 (#498da0)\nU 9 (#33e593)\nL 4 (#5d5960)\nU 4 (#37a713)\nR 4 (#20a100)\nU 7 (#166643)\nL 8 (#5e45e0)\nD 5 (#4e0d51)\nL 3 (#6300c0)\nU 5 (#33e591)\nL 3 (#05fb20)\nU 8 (#0f53f1)\nL 5 (#3a1492)\nD 6 (#3ca141)\nL 3 (#1bdf92)\nD 7 (#46e681)\nL 3 (#4de9c2)\nD 3 (#4a9801)\nR 10 (#233712)\nD 4 (#077613)\nR 3 (#1e9bf0)\nD 4 (#4aade3)\nR 4 (#1e9bf2)\nD 4 (#3341c3)\nL 7 (#140922)\nU 3 (#412a71)\nL 3 (#401b42)\nU 2 (#561163)\nL 10 (#470692)\nU 2 (#561161)\nL 4 (#362062)\nU 4 (#443b41)\nL 6 (#0caa82)\nU 7 (#648ee1)\nL 6 (#2075b2)\nU 6 (#5c4c61)\nR 2 (#603de2)\nU 3 (#1c7a31)\nR 5 (#171382)\nD 4 (#153b73)\nR 4 (#4983b2)\nU 4 (#6adc73)\nR 3 (#1ff7e2)\nU 4 (#466ec3)\nR 3 (#7a9122)\nD 4 (#35eb61)\nR 5 (#0558b2)\nU 4 (#3db0f1)\nR 5 (#3a9312)\nU 2 (#3be491)\nR 2 (#3a9310)\nU 3 (#1705c1)\nL 4 (#5e1882)\nU 4 (#34ac93)\nL 4 (#4e7e22)\nD 4 (#5e53e3)\nL 6 (#1c63c2)\nU 3 (#022d71)\nL 6 (#3d6672)\nU 3 (#33f401)\nR 9 (#4c72b2)\nU 4 (#325171)\nR 3 (#1e2b62)\nU 3 (#18c331)\nR 3 (#258262)\nU 8 (#1a6733)\nR 4 (#23f3c0)\nD 9 (#3dc433)\nR 3 (#23f3c2)\nD 2 (#290ab3)\nR 5 (#07c6a2)\nU 3 (#074071)\nR 8 (#234902)\nU 4 (#2aca71)\nR 6 (#29d112)\nU 3 (#2a6881)\nR 3 (#29d110)\nU 3 (#531251)\nR 2 (#234900)\nU 4 (#00f921)\nR 9 (#066322)\nU 5 (#084891)\nL 7 (#66be52)\nU 4 (#19e223)\nL 7 (#0bde52)\nU 8 (#42f223)\nL 3 (#659ce2)\nU 6 (#0f2a83)\nL 3 (#10d232)\nU 7 (#4cc8a3)\nL 6 (#0eab12)\nU 3 (#24eb83)\nL 7 (#3fa182)\nU 5 (#422143)\nL 6 (#7849d0)\nU 3 (#1daad3)\nL 3 (#7849d2)\nD 2 (#307a93)\nL 3 (#3fa180)\nD 5 (#57a3d3)\nR 6 (#5ccfa2)\nD 3 (#0bf0e3)\nL 6 (#044b10)\nD 5 (#11ebe3)\nL 3 (#3bb230)\nU 9 (#366883)\nL 3 (#29bb80)\nU 6 (#3079e3)\nL 4 (#10d4d0)\nU 3 (#78ce41)\nR 9 (#357660)\nU 3 (#3af333)\nR 6 (#054660)\nU 5 (#00b3d3)\nR 5 (#1770e0)\nU 6 (#258633)\nL 4 (#5f00b0)\nU 4 (#258631)\nL 7 (#0a89c0)\nU 3 (#00b3d1)\nL 4 (#57ed00)\nU 8 (#3af331)\nL 6 (#0bdbe0)\nU 2 (#41ef53)\nL 3 (#584b52)\nU 5 (#1496c3)\nL 5 (#584b50)\nU 7 (#3425b3)\nL 3 (#3e8170)\nU 4 (#007153)\nL 6 (#27e530)\nU 2 (#3a6b53)\nL 2 (#287060)\nU 7 (#623c11)\nL 6 (#3a2920)\nD 9 (#623c13)\nL 3 (#380a40)\nD 3 (#526673)\nL 2 (#6a74b0)\nD 8 (#42db63)\nL 3 (#08f9a2)\nU 4 (#4f7023)\nL 5 (#0e4562)\nU 3 (#459261)\nL 5 (#002c02)\nU 6 (#58bd83)\nL 2 (#612902)\nU 6 (#58bd81)\nL 3 (#2cc2c2)\nU 8 (#459263)\nL 4 (#433702)\nU 10 (#4f7021)\nL 3 (#1cc2d2)\nU 10 (#6fd6d3)\nL 5 (#2583b0)\nU 4 (#276463)\nL 5 (#057720)\nU 6 (#180913)\nR 7 (#5f26c0)\nU 7 (#180911)\nR 6 (#46fd30)\nU 5 (#276461)\nR 2 (#3431d0)\nU 4 (#070ab3)\nR 2 (#07e572)\nU 4 (#5c3883)\nR 3 (#075092)\nD 11 (#03f0e3)\nR 2 (#5b3eb2)\nD 4 (#2201d3)\nR 4 (#69a4e2)\nD 7 (#2fa0c3)\nR 5 (#17c752)\nD 4 (#23ce53)\nR 4 (#752460)\nU 7 (#22c7b3)\nR 3 (#752462)\nU 4 (#40f6f3)\nR 3 (#23bad2)\nD 5 (#1a1bd3)\nR 7 (#280e52)\nU 6 (#1aa8c3)\nR 4 (#43f6e2)\nU 3 (#1aa8c1)\nR 2 (#2c8012)\nU 5 (#2b1091)\nR 9 (#1a2c12)\nU 6 (#1c6da1)\nR 8 (#6ca350)\nU 6 (#352a41)\nL 4 (#6ca352)\nU 3 (#3d8261)\nL 2 (#01a622)\nU 6 (#171eb1)\nL 5 (#09d352)\nU 7 (#5dead3)\nL 2 (#305362)\nU 2 (#2b82c3)\nL 7 (#0e3150)\nU 6 (#286863)\nL 4 (#0e3152)\nU 3 (#3c8003)\nL 6 (#510b32)\nU 8 (#1fb8a1)\nL 7 (#10d830)\nU 4 (#4515e1)\nL 7 (#10d832)\nU 8 (#2b9ca1)\nL 5 (#36c432)\nU 7 (#5dead1)\nL 2 (#203c12)\nU 5 (#5f55e3)`;


function inputToOrders(input) {
  const lines =  input.split('\n');
  const orders = [];
  for (const line of lines) {
    const [direction, meters, color] = line.split(' ');
    orders.push({
      direction,
      distance: parseInt(meters),
      color: color.slice(1, -1)
    });
  }
  return orders;
}

const UP = 'U';
const DOWN = 'D';
const LEFT = 'L';
const RIGHT = 'R';
const DIRECTIONS = new Map([
  [UP, [-1, 0]],
  [DOWN, [+1, 0]],
  [LEFT, [0, -1]],
  [RIGHT, [0, +1]],
]);

const orders = inputToOrders(input);

// part 1
const lagoon = [];

function dig({ direction, distance, color }, curCell, lagoon) {
  const {row, col} = curCell;
  const [rowInc, colInc] = DIRECTIONS.get(direction);
  let cell;
  for (let i = 1; i <= distance; i++) {
    cell = {row: row + rowInc * i, col: col + colInc * i};
    if (!lagoon[cell.row]) lagoon[cell.row] = [];
    lagoon[cell.row][cell.col] = '#';
  }
  return cell;
}

function digAll(orders, lagoon) {
  let curCell = {row: 0, col: 0};
  for (const order of orders) {
    curCell = dig(order, curCell, lagoon);
  }
}

function expand(lagoon) {
  const [minRow, maxRow] = getMinMaxIndex(lagoon);
  lagoon[minRow - 1] = [];
  lagoon[maxRow + 1] = [];
}

function getMinMaxIndex(array) {
  const rows = Object.keys(lagoon).map(ind => parseInt(ind));
  const min = Math.min(...rows);
  const max = Math.max(...rows);
  return [min, max];
}

function getNeighbors(row, col) {
  // get Von neumnann neigboors
  const neighbors = [
    {row: row - 1, col: col}, // N
    {row: row, col: col + 1}, // E
    {row: row + 1, col: col}, // S
    {row: row, col: col - 1}, // W
  ];
  return neighbors.filter(({row, col}) => isValidRowCol(row, col));
}

function isValidRowCol(row, col) {
  return row >= minRow && row <= maxRow && col >= minCol && col <= maxCol;
}


function bfs(row, col, matrix) {
  const visited = new Set();
  const frontier = [];
  frontier.push({row, col});
  visited.add(`${row}:${col}`);

  while (frontier.length > 0) {
    const cell = frontier.shift();
    const neighbors = getNeighbors(cell.row, cell.col);
    for (const neighbor of neighbors) {
      if (matrix[neighbor.row][neighbor.col] == '#') continue;
      if (visited.has(`${neighbor.row}:${neighbor.col}`)) continue;
      frontier.push(neighbor);
      visited.add(`${neighbor.row}:${neighbor.col}`);
    }
  }
  return visited;
}

digAll(orders, lagoon);
expand(lagoon);

const [minRow, maxRow] = getMinMaxIndex(lagoon);
const [minCol, maxCol] = getMinMaxIndex(lagoon[0]);

const visited = bfs(minRow, minCol, lagoon);
// marks visited as empty space
for (const cell of visited) {
  const [row, col] = cell.split(':');
  lagoon[row][col] = ' ';
};

let count = 0;
for (let row = minRow; row <= maxRow; row++) {
  for (let col = minCol; col <= maxCol; col++) {
    if (lagoon[row][col] != ' ' ) count++;
  }
}
console.log(count);

// part 2
const intToDir = new Map([
  ['0', RIGHT],
  ['1', DOWN],
  ['2', LEFT],
  ['3', UP],
]);

const ordersP2 = orders.map(({color}) => {
  const hexaDist = color.slice(1, 6);
  const dist = parseInt(hexaDist, 16);
  const dir = intToDir.get(color.slice(6, 7));
  return {dir, dist};
})

// Generate all vertex from orders
let area = 0;
let perimeter = 0;
let lastVertex = {x: 0, y: 0};
for (const {dir, dist} of ordersP2) {
  const [dy, dx] = DIRECTIONS.get(dir);
  const vertex = {x: lastVertex.x + dx * dist, y: lastVertex.y + dy * dist};
  // https://www.mathopenref.com/coordpolygonarea2.html
  area += lastVertex.x * vertex.y - lastVertex.y * vertex.x;
  perimeter += dist;
  lastVertex = vertex;
}
console.log(area / 2 + perimeter / 2 + 1);